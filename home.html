<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./css/Home.css">
    <title>Home</title>
</head>

<body>
    <div id="home-wrapper">
        <div :class="['home-container', mobileMode ? 'mobile' : 'desktop']">
            <div class="header">
                <div class="header-box">
                    <div class="avatar-box" role="button">
                        <img class="avatar" src="./img/tony.jpg" alt="" draggable="false">
                        <div class="avatar-defaul-box">

                        </div>
                    </div>
                    <div class="user-detail-box">
                        <div class="name-box" role="button">
                            <span>Tony Stark</span>
                        </div>
                        <div class="status-box" role="button">
                            <span>I am Iron Man</span>
                        </div>
                    </div>
                    <div class="control-box">
                        <div class="button-box">
                            <div class="ico-box" role="button">
                                <i class="material-icons">search</i>
                            </div>
                        </div>
                        <div class="button-box">
                            <div class="ico-box" role="button">
                                <i class="material-icons">chat</i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content">

            </div>
            <div class="tab">
                <div class="tab-box">
                    <template v-for="(item, index) in items">
                        <div @click="activeTab(index)" role="button" :class="['tab-items', tabActive == index ? 'tab-active' : '']" :key="index">
                            <div class="item" role="button">
                                <i class="material-icons">{{item.icon}}</i>
                                <label role="button">{{item.name}}</label>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    new Vue({
        el: '#home-wrapper',
        data() {
            return {
                items: [{
                    name: 'Chats',
                    icon: 'chat_bubble_outline',
                }, {
                    name: 'Contact',
                    icon: 'contact_mail',
                }, {
                    name: 'Extension',
                    icon: 'extension',
                }, {
                    name: 'Notification',
                    icon: 'notification_important',
                }],
                mobileMode: true,
                tabActive: 0
            }
        },
        mounted() {
            this.mobileMode = this.detectMobile
            window.addEventListener('resize', () => {
                this.mobileMode = this.detectMobile        
            });
        },
        computed: {
            detectMobile() {
                if (navigator.userAgent.match(/Android/i) ||
                    navigator.userAgent.match(/webOS/i) ||
                    navigator.userAgent.match(/iPhone/i) ||
                    navigator.userAgent.match(/iPad/i) ||
                    navigator.userAgent.match(/iPod/i) ||
                    navigator.userAgent.match(/BlackBerry/i) ||
                    navigator.userAgent.match(/Windows Phone/i)
                ) {
                    return true;
                } else {
                    return false;
                }
            }
        },
        methods: {
            activeTab(index){
                this.tabActive = index
            }
        },
    })
</script>